<script setup lang="ts">
import { ref, onMounted } from "vue";
import {
  columns,
  type TransactionLogs,
} from "~/components/transactions/columns";

const data = ref<TransactionLogs[]>([]);

async function getData(): Promise<TransactionLogs[]> {
  // Fetch data from your API here.
  return [
    {
      activityType: "N/A",
      senderName: "Abebe Kebede",
      dataAndTime: "2023-09-20 08:33:43",
      fromAccount: 1000333434544,
      toAccount: 1000433223322,
      amount: "10000",
      currency: "ETB",
      otherInfo: {
        logType: "AuditLogsAndMoneyMovementDTO",
        id: "fa6ads8yf8asd7fyasd8fasd87",
        createdBy: "systemUser",
        createdOn: "133234449984",
        sessionId: "76da9fy87yasdfy98asdfadsf",
        iscrAssist: "N/A",
        appsessionId: "sadf8ad-fads-adf7-sd68-7ads6",
        operatingSystem: "8.1.0",
        appVersion: "4.2.5",
        events: "2019-09-11 07:36:17.0",
        createdTS: "2019-09-11 07:36:17.0",
        isScheduled: false,
        notes: "N/A",
        checkNumber: 0,
        scheduleDate: "2019-09-11 07:36:17.0",
        frequencyType: "once",
        p2pContact: "65268282",
        penalityFlag: false,
      },
    },
    {
      activityType: "N/A",
      senderName: "Abebe Kebede",
      dataAndTime: "2020-09-20 08:33:43",
      fromAccount: 1000333434544,
      toAccount: 1000433223322,
      amount: "1000",
      currency: "ETB",
      otherInfo: {
        logType: "AuditLogsAndMoneyMovementDTO",
        id: "fa6ads8yf8asd7fyasd8fasd87",
        createdBy: "systemUser",
        createdOn: "133234449984",
        sessionId: "76da9fy87yasdfy98asdfadsf",
        iscrAssist: "N/A",
        appsessionId: "sadf8ad-fads-adf7-sd68-7ads6",
        operatingSystem: "8.1.0",
        appVersion: "4.2.5",
        events: "2019-09-11 07:36:17.0",
        createdTS: "2019-09-11 07:36:17.0",
        isScheduled: false,
        notes: "N/A",
        checkNumber: 0,
        scheduleDate: "2019-09-11 07:36:17.0",
        frequencyType: "once",
        p2pContact: "65268282",
        penalityFlag: false,
      },
    },
    {
      activityType: "Activity1",
      senderName: "Abebe Kebede",
      dataAndTime: "2021-09-20 08:33:43",
      fromAccount: 1000333434544,
      toAccount: 1000433223322,
      amount: "2000",
      currency: "ETB",
      otherInfo: {
        logType: "AuditLogsAndMoneyMovementDTO",
        id: "fa6ads8yf8asd7fyasd8fasd87",
        createdBy: "systemUser",
        createdOn: "133234449984",
        sessionId: "76da9fy87yasdfy98asdfadsf",
        iscrAssist: "N/A",
        appsessionId: "sadf8ad-fads-adf7-sd68-7ads6",
        operatingSystem: "8.1.0",
        appVersion: "4.2.5",
        events: "2019-09-11 07:36:17.0",
        createdTS: "2019-09-11 07:36:17.0",
        isScheduled: false,
        notes: "N/A",
        checkNumber: 0,
        scheduleDate: "2019-09-11 07:36:17.0",
        frequencyType: "once",
        p2pContact: "65268282",
        penalityFlag: false,
      },
    },
    {
      activityType: "Activity2",
      senderName: "Abebe Kebede",
      dataAndTime: "2022-09-20 08:33:43",
      fromAccount: 1000333434544,
      toAccount: 1000433223322,
      amount: "3000",
      currency: "ETB",
      otherInfo: {
        logType: "AuditLogsAndMoneyMovementDTO",
        id: "fa6ads8yf8asd7fyasd8fasd87",
        createdBy: "systemUser",
        createdOn: "133234449984",
        sessionId: "76da9fy87yasdfy98asdfadsf",
        iscrAssist: "N/A",
        appsessionId: "sadf8ad-fads-adf7-sd68-7ads6",
        operatingSystem: "8.1.0",
        appVersion: "4.2.5",
        events: "2019-09-11 07:36:17.0",
        createdTS: "2019-09-11 07:36:17.0",
        isScheduled: false,
        notes: "N/A",
        checkNumber: 0,
        scheduleDate: "2019-09-11 07:36:17.0",
        frequencyType: "once",
        p2pContact: "65268282",
        penalityFlag: false,
      },
    },
    {
      activityType: "N/A",
      senderName: "Abebe Kebede",
      dataAndTime: "2019-09-20 08:33:43",
      fromAccount: 1000333434544,
      toAccount: 1000433223322,
      amount: "4000",
      currency: "ETB",
      otherInfo: {
        logType: "AuditLogsAndMoneyMovementDTO",
        id: "fa6ads8yf8asd7fyasd8fasd87",
        createdBy: "systemUser",
        createdOn: "133234449984",
        sessionId: "76da9fy87yasdfy98asdfadsf",
        iscrAssist: "N/A",
        appsessionId: "sadf8ad-fads-adf7-sd68-7ads6",
        operatingSystem: "8.1.0",
        appVersion: "4.2.5",
        events: "2019-09-11 07:36:17.0",
        createdTS: "2019-09-11 07:36:17.0",
        isScheduled: false,
        notes: "N/A",
        checkNumber: 0,
        scheduleDate: "2019-09-11 07:36:17.0",
        frequencyType: "once",
        p2pContact: "65268282",
        penalityFlag: false,
      },
    },
    {
      activityType: "N/A",
      senderName: "Abebe Kebede",
      dataAndTime: "2018-09-20 08:33:43",
      fromAccount: 1000333434544,
      toAccount: 1000433223322,
      amount: "5000",
      currency: "ETB",
      otherInfo: {
        logType: "AuditLogsAndMoneyMovementDTO",
        id: "fa6ads8yf8asd7fyasd8fasd87",
        createdBy: "systemUser",
        createdOn: "133234449984",
        sessionId: "76da9fy87yasdfy98asdfadsf",
        iscrAssist: "N/A",
        appsessionId: "sadf8ad-fads-adf7-sd68-7ads6",
        operatingSystem: "8.1.0",
        appVersion: "4.2.5",
        events: "2019-09-11 07:36:17.0",
        createdTS: "2019-09-11 07:36:17.0",
        isScheduled: false,
        notes: "N/A",
        checkNumber: 0,
        scheduleDate: "2019-09-11 07:36:17.0",
        frequencyType: "once",
        p2pContact: "65268282",
        penalityFlag: false,
      },
    },
    {
      activityType: "N/A",
      senderName: "Abebe Kebede",
      dataAndTime: "2023-09-20 08:33:43",
      fromAccount: 1000333434544,
      toAccount: 1000433223322,
      amount: "6000",
      currency: "ETB",
      otherInfo: {
        logType: "AuditLogsAndMoneyMovementDTO",
        id: "fa6ads8yf8asd7fyasd8fasd87",
        createdBy: "systemUser",
        createdOn: "133234449984",
        sessionId: "76da9fy87yasdfy98asdfadsf",
        iscrAssist: "N/A",
        appsessionId: "sadf8ad-fads-adf7-sd68-7ads6",
        operatingSystem: "8.1.0",
        appVersion: "4.2.5",
        events: "2019-09-11 07:36:17.0",
        createdTS: "2019-09-11 07:36:17.0",
        isScheduled: false,
        notes: "N/A",
        checkNumber: 0,
        scheduleDate: "2019-09-11 07:36:17.0",
        frequencyType: "once",
        p2pContact: "65268282",
        penalityFlag: false,
      },
    },
    {
      activityType: "N/A",
      senderName: "Abebe Kebede",
      dataAndTime: "2023-09-20 08:33:43",
      fromAccount: 1000333434544,
      toAccount: 1000433223322,
      amount: "7000",
      currency: "ETB",
      otherInfo: {
        logType: "AuditLogsAndMoneyMovementDTO",
        id: "fa6ads8yf8asd7fyasd8fasd87",
        createdBy: "systemUser",
        createdOn: "133234449984",
        sessionId: "76da9fy87yasdfy98asdfadsf",
        iscrAssist: "N/A",
        appsessionId: "sadf8ad-fads-adf7-sd68-7ads6",
        operatingSystem: "8.1.0",
        appVersion: "4.2.5",
        events: "2019-09-11 07:36:17.0",
        createdTS: "2019-09-11 07:36:17.0",
        isScheduled: false,
        notes: "N/A",
        checkNumber: 0,
        scheduleDate: "2019-09-11 07:36:17.0",
        frequencyType: "once",
        p2pContact: "65268282",
        penalityFlag: false,
      },
    },
    {
      activityType: "N/A",
      senderName: "Abebe Kebede",
      dataAndTime: "2023-09-20 08:33:43",
      fromAccount: 1000333434544,
      toAccount: 1000433223322,
      amount: "100000",
      currency: "ETB",
      otherInfo: {
        logType: "AuditLogsAndMoneyMovementDTO",
        id: "fa6ads8yf8asd7fyasd8fasd87",
        createdBy: "systemUser",
        createdOn: "133234449984",
        sessionId: "76da9fy87yasdfy98asdfadsf",
        iscrAssist: "N/A",
        appsessionId: "sadf8ad-fads-adf7-sd68-7ads6",
        operatingSystem: "8.1.0",
        appVersion: "4.2.5",
        events: "2019-09-11 07:36:17.0",
        createdTS: "2019-09-11 07:36:17.0",
        isScheduled: false,
        notes: "N/A",
        checkNumber: 0,
        scheduleDate: "2019-09-11 07:36:17.0",
        frequencyType: "once",
        p2pContact: "65268282",
        penalityFlag: false,
      },
    },
  ];
}

onMounted(async () => {
  data.value = await getData();
});
</script>

<!-- Render DataTable only if data is available -->
<template>
  <div v-if="data.length > 0" class="flex flex-col space-y-3 mx-auto">
    <UiButton class="w-fit self-end px-5 bg-primary hover:bg-fuchsia-800"
      ><Icon name="material-symbols:download" size="24" class="mr-2"></Icon
      >Download List</UiButton
    >

    <UiDataTable :columns="columns" :data="data">
      <template v-slot:toolbar="{ table }">
        <TransactionsDataTableFilterbar :table="table" />
      </template>
    </UiDataTable>
  </div>
  <div v-else class="py-10 flex justify-center w-full">
    <UiLoading />
  </div>
</template>
~/components/transactions/columns
